# parser
MultiLevel site parser based on composite pattern

# installation
clone repository
cd parser
composer install

# Инструкция

Достаточно запустить 1 раз метод process() у родительского парсера, чтобы получить массив данных со всех вложенных парсеров. При этом ключами результирующего массива будут являтся имена вложенных парсеров , сохраняя структуру вложенности.

- PageParser - Базовый класс. С него начинается парсинг. Указывается ссылка на стартовый ресурс, затем в него добавляются конкретные парсеры
- BlockParser - Контейнер для парсеров. Используется для группировки парсеров в том числе других блоков. Все дочерние парсеры получают не всю страницу, а контекст. Благодаря этому упрощается xpath выражения вложенных парсеров, и ускоряется процесс парсинга.
- ConditionalParser - Условный парсер - нужен чтобы погружаться по странице вглубь. При добавлении в него дочерних парсеров, они группируются по имени, и будут применены В случае если в имени и в результате xpath выражения будет совпадение.
- TextParser - Используется для выборки текста. Не имеет вложенных парсеров.
- ImageParser - Используется для загрузки изображения во временное хранилище, возвращает путь до файла.

# usage
```
php index.php
```
